* 顾比均线组

  顾比均线是有澳大利亚的 戴若.顾比 发明的一套用于研判股票发展趋势的有短期和长期两部分组成的均线组。

  在顾比均线的理论中，市场由交易者和投资者两部分人群组成。

  交易者，是典型的追涨杀跌的群体。当趋势向好的时候，交易者迫切的希望持有股票，从而快速推升了股票的价格；而当趋势一旦发生变化，交易者会竞相卖出股票以保护利润，因此股价会迅速回落。交易者是以交易股票获取短期利润为目标的，关注的重点是不赔钱。交易者的存在，使得股价围绕价值剧烈的波动。

  投资者是相对温和的群体，他们会花费更多的时间认识趋势中的变化。也总是跟在交易者的后面进行股票的买卖。股票上升趋势的维持，需要在投资者进入市场之后才会得以维持。而强的趋势也是有长期投资者支撑的。

  针对上面的两类人群，可以使用6条短期移动平均线来表示交易者的行为；用6条长期移动平均线来表示投资者的行为。

** 移动平均线（短期组和长期组）

   短期组由3、5、8、10、12、15等6条均线组成。长期组由30、35、40、45、50、60等6条均线组成。

* 源代码

  #+BEGIN_SRC text :tangle yes
      E3:EMA(C,3),COLORRED;
    E5:EMA(C,5),COLORRED;
    E8:EMA(C,8),COLORRED;
    E10:EMA(C,10),COLORRED;
    E12:EMA(C,12),COLORRED;
    E15:EMA(C,15),COLORRED;
    PartLine(E3<Ref(E3,3) Or E15<Ref(E15,3),E3),ColorGreen;
    PartLine(E5<Ref(E5,3) Or E15<Ref(E15,3),E5),ColorGreen;
    PartLine(E8<Ref(E8,3) Or E15<Ref(E15,3),E8),ColorGreen;
    PartLine(E10<Ref(E10,3) Or E15<Ref(E15,3),E10),ColorGreen;
    PartLine(E12<Ref(E12,3) Or E15<Ref(E15,3),E12),ColorGreen;
    PartLine(E15<Ref(E15,3),E15),ColorGreen;
    TestPeriod := 20;
    STrans := ( Abs(MaxList(E3,E5,E8,E10,E12,E15)-MinList(E3,E5,E8,E10,E12,E15)) < 
                Abs(MaxList(Ref(E3,1),Ref(E5,1),Ref(E8,1),Ref(E10,1),Ref(E12,1),Ref(E15,1)) - 
                            MinList(Ref(E3,1),Ref(E5,1),Ref(E8,1),Ref(E10,1),Ref(E12,1),Ref(E15,1))
                               )
                      ) And 
                      ( Exist( CrossOver(E3,E15),TestPeriod) Or
                            Exist( CrossUnder(E3,E15),TestPeriod ));
    PartLine(STrans,E3),ColorBlue;
    PartLine(STrans,E5),ColorBlue;
    PartLine(STrans,E8),ColorBlue;
    PartLine(STrans,E10),ColorBlue;
    PartLine(STrans,E12),ColorBlue;
    PartLine(STrans,E15),ColorBlue;

    E30:EMA(C,30),ColorBrown;
    E35:EMA(C,35),ColorBrown;
    E40:EMA(C,40),ColorBrown;
    E45:EMA(C,45),ColorBrown;
    E50:EMA(C,50),ColorBrown;
    E60:EMA(C,60),ColorBrown;//COLORD1875A;
    PartLine(E30<Ref(E30,1) AND E60<REF(E60,1),E30),ColorCyan;
    PartLine(E35<Ref(E35,1) AND E60<REF(E60,1),E35),ColorCyan;
    PartLine(E40<Ref(E40,1) AND E60<REF(E60,1),E40),ColorCyan;
    PartLine(E45<Ref(E45,1) AND E60<REF(E60,1),E45),ColorCyan;
    PartLine(E50<Ref(E50,1) AND E60<REF(E60,1),E50),ColorCyan;
    PartLine(E60<Ref(E60,1),E60),ColorCyan;
    LTrans := ( Abs(MaxList(E30,E35,E40,E45,E50,E60)-MinList(E30,E35,E40,E45,E50,E60)) < 
                Abs(MaxList(Ref(E30,1),Ref(E35,1),Ref(E40,1),Ref(E45,1),Ref(E50,1),Ref(E60,1)) - 
                            MinList(Ref(E30,1),Ref(E35,1),Ref(E40,1),Ref(E45,1),Ref(E50,1),Ref(E60,1))
                               )
                      ) And
                      ( Exist(CrossOver(E30,E35), 5) Or
                        Exist(CrossUnder(E30,E35), 5));
               //(Abs(REF(E30,1)-REF(E60,1))<Abs(Ref(E30,2)-Ref(E60,2))) And
                       //(Abs(REF(E30,2)-REF(E60,2))<Abs(Ref(E30,3)-Ref(E60,3))));
    PartLine(LTrans,E30),ColorYellow;
    PartLine(LTrans,E35),ColorYellow;
    PartLine(LTrans,E40),ColorYellow;
    PartLine(LTrans,E45),ColorYellow;
    PartLine(LTrans,E50),ColorYellow;
    PartLine(LTrans,E60),ColorYellow;

    STICKLINE(C>O,C,O,8,1),COLORRED;
    STICKLINE(C>O,C,H,0.8,1),COLORRED;
    STICKLINE(C>O,O,L,0.8,1),COLORRED;
    STICKLINE(C<=O,C,O,8,0),COLORFFFF52;
    STICKLINE(C<=O,H,L,0.8,1),COLORFFFF52;

  #+END_SRC
